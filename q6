#include <iostream>
using namespace std;
struct Node { int data; Node *prev,*next; };
void display(Node* h){ while(h){ cout<<h->data<<" "; h=h->next; } cout<<endl; }
int main(){
    Node *h=NULL,*t=NULL,*p; int n,x;
    cout<<"Enter number of nodes: "; cin>>n;
    for(int i=0;i<n;i++){ cin>>x; p=new Node; p->data=x; p->next=NULL; p->prev=t; if(!h)h=p; else t->next=p; t=p; }
    cout<<"Original: "; display(h);
    Node* c=h;
    while(c){
        Node* nxt=c->next;
        if(c->data%2==0){
            if(c->prev) c->prev->next=c->next; else h=c->next;
            if(c->next) c->next->prev=c->prev;
            delete c;
        }
        c=nxt;
    }
    cout<<"After deleting even elements: "; display(h);
}
